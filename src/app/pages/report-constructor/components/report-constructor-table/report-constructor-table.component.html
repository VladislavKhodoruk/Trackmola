<table class="report-constructor-table">
  <thead class="report-constructor-table-head">
    <tr>
      <th class="report-constructor-table-head-item">
        <div class="flex-container" (click)="changeSortOption('deliverables')">
          <span class="report-constructor-table-head-item-text"
            >Deliverables</span
          >
          <ic-icon
            class="report-constructor-table-head-item-icon"
            [style.transform]="
              'rotate(' +
              (selectedSort.columnName === 'deliverables' &&
              selectedSort.ascendingSort
                ? 180
                : 0) +
              'deg)'
            "
            [icon]="sortDescendingIcon"
            width="1.5rem"
            height="1.5rem"
          ></ic-icon>
        </div>
      </th>
      <th class="report-constructor-table-head-item">Resource</th>
      <th class="report-constructor-table-head-item">
        <div class="flex-container" (click)="changeSortOption('hours spend')">
          <span class="report-constructor-table-head-item-text"
            >Hours spend</span
          >
          <ic-icon
            class="report-constructor-table-head-item-icon"
            [style.transform]="
              'rotate(' +
              (selectedSort.columnName === 'hours spend' &&
              selectedSort.ascendingSort
                ? 180
                : 0) +
              'deg)'
            "
            [icon]="sortDescendingIcon"
            width="1.5rem"
            height="1.5rem"
          ></ic-icon>
        </div>
      </th>
      <th class="report-constructor-table-head-item">
        <div class="flex-container" (click)="changeSortOption('percentage')">
          <span class="report-constructor-table-head-item-text"
            >Percentage</span
          >
          <ic-icon
            class="report-constructor-table-head-item-icon"
            [style.transform]="
              'rotate(' +
              (selectedSort.columnName === 'percentage' &&
              selectedSort.ascendingSort
                ? 180
                : 0) +
              'deg)'
            "
            [icon]="sortDescendingIcon"
            width="1.5rem"
            height="1.5rem"
          ></ic-icon>
        </div>
      </th>
      <th class="report-constructor-table-head-item">Team, %</th>
    </tr>
  </thead>
  <tbody class="report-constructor-table-body">
    <tr *ngFor="let infoItem of infoFromTaskTracksForTable">
      <td class="report-constructor-table-body-item">
        {{ infoItem?.taskName }}
      </td>
      <td class="report-constructor-table-body-item">
        <ng-container *ngFor="let userPosition of infoItem?.userPositions">
          <div class="report-constructor-table-body-item-text">
            {{ userPosition }}
          </div>
        </ng-container>
      </td>
      <td class="report-constructor-table-body-item">
        {{ infoItem?.taskDuration }}
      </td>
      <td class="report-constructor-table-body-item">
        {{ infoItem?.taskPercentageWeek }}%
      </td>
      <td class="report-constructor-table-body-item">
        <ng-container *ngFor="let userName of infoItem?.userNames">
          <div class="report-constructor-table-body-item-text">
            {{ userName }}
          </div>
        </ng-container>
      </td>
    </tr>
  </tbody>
</table>
